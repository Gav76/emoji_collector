<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emoji Collector - Face Tracking Game</title>
    <link rel="stylesheet" href="styles.css">
    
    <!-- MediaPipe Face Mesh CDN -->
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/control_utils/control_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/face_mesh.js" crossorigin="anonymous"></script>
</head>
<body>
    <div id="app-container">
        <h1>ğŸ® Emoji Collector</h1>
        
        <!-- Loading indicator -->
        <div id="loading-indicator" class="loading">
            <div class="spinner"></div>
            <p>Initializing camera and face tracking...</p>
        </div>
        
        <!-- Error message container -->
        <div id="error-message" class="error-message hidden">
            <p id="error-text"></p>
            <button id="retry-button" class="retry-button">Retry</button>
        </div>
        
        <!-- Emoji collection -->
        <div id="emoji-collection" class="emoji-collection">
            <p class="collection-label">Expression Collection:</p>
            <div id="emoji-collection-container" class="emoji-collection-container">
                <div class="emoji-item" data-expression="neutral">
                    <span class="collection-emoji">ğŸ˜</span>
                    <span class="emoji-label">Neutral</span>
                    <span class="emoji-count">0</span>
                </div>
                <div class="emoji-item" data-expression="happy">
                    <span class="collection-emoji">ğŸ™‚</span>
                    <span class="emoji-label">Happy</span>
                    <span class="emoji-count">0</span>
                </div>
                <div class="emoji-item" data-expression="very_happy">
                    <span class="collection-emoji">ğŸ˜„</span>
                    <span class="emoji-label">Very Happy</span>
                    <span class="emoji-count">0</span>
                </div>
                <div class="emoji-item" data-expression="sad">
                    <span class="collection-emoji">ğŸ˜¢</span>
                    <span class="emoji-label">Sad</span>
                    <span class="emoji-count">0</span>
                </div>
                <div class="emoji-item" data-expression="surprised">
                    <span class="collection-emoji">ğŸ˜®</span>
                    <span class="emoji-label">Surprised</span>
                    <span class="emoji-count">0</span>
                </div>
                <div class="emoji-item" data-expression="angry">
                    <span class="collection-emoji">ğŸ˜ </span>
                    <span class="emoji-label">Angry</span>
                    <span class="emoji-count">0</span>
                </div>
                <div class="emoji-item" data-expression="wink">
                    <span class="collection-emoji">ğŸ˜‰</span>
                    <span class="emoji-label">Wink</span>
                    <span class="emoji-count">0</span>
                </div>
                <div class="emoji-item" data-expression="kiss">
                    <span class="collection-emoji">ğŸ˜˜</span>
                    <span class="emoji-label">Kiss</span>
                    <span class="emoji-count">0</span>
                </div>
                <div class="emoji-item" data-expression="tongue_out">
                    <span class="collection-emoji">ğŸ˜›</span>
                    <span class="emoji-label">Tongue Out</span>
                    <span class="emoji-count">0</span>
                </div>
                <div class="emoji-item" data-expression="thinking">
                    <span class="collection-emoji">ğŸ¤”</span>
                    <span class="emoji-label">Thinking</span>
                    <span class="emoji-count">0</span>
                </div>
                <div class="emoji-item" data-expression="sleepy">
                    <span class="collection-emoji">ğŸ˜´</span>
                    <span class="emoji-label">Sleepy</span>
                    <span class="emoji-count">0</span>
                </div>
                <div class="emoji-item" data-expression="confused">
                    <span class="collection-emoji">ğŸ˜•</span>
                    <span class="emoji-label">Confused</span>
                    <span class="emoji-count">0</span>
                </div>
            </div>
        </div>
        
        <!-- Border wrapper for dynamic color changes -->
        <div id="border-wrapper" class="border-wrapper">
            <!-- Frames container -->
            <div id="frames-container" class="frames-container">
                <!-- Tracked feed with landmarks -->
                <div class="frame-wrapper">
                    <label for="overlay-canvas">Face Tracking</label>
                    <canvas id="overlay-canvas" width="640" height="480"></canvas>
                </div>
            </div>
        </div>
        
        <!-- Status information -->
        <div id="status-info" class="status-info">
            <p id="direction-status">Direction: <span id="current-direction">CENTER</span> <span id="current-emoji" class="emoji">ğŸ˜</span></p>
            <p id="fps-status">FPS: <span id="current-fps">0</span></p>
            <p id="face-status" class="face-status hidden">âš ï¸ No face detected</p>
        </div>
        
        <!-- Privacy notice -->
        <div class="privacy-notice">
            <p>ğŸ”’ All processing happens locally in your browser. No video data is sent to any server.</p>
        </div>
    </div>
    
    <!-- Application script -->
    <script type="module" src="dist/main.js"></script>
</body>
</html>
